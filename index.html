<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0">
    <link rel="icon" type="image/x-icon" href="./styles/icon.png">
    <link rel="stylesheet" href="./styles/style.css">
    <link rel="stylesheet" href="./styles/reactive.css">
    <link rel="stylesheet" href="./fonts/stylesheet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
    <script src="https://unpkg.com/twemoji@latest/dist/twemoji.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.1.2/chroma.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">

<style>
.noselect {
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Edge, Opera and Firefox */
}

.disabledrag {
   -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
   -user-drag: none;
}

/* width */
/* ::-webkit-scrollbar {
  width: var(--scrollbar-width, 10px);
  height: var(--scrollbar-height, 10px);
} */

::-webkit-scrollbar {
  width: 0px;
  height: 0px;
}
/* Track */
::-webkit-scrollbar-track {
  background: var(--color3);
  border-radius: 8px;
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: var(--color5); 
  border-radius: 8px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: var(--color4);
  border-radius: 8px; 
}

.clickable {display: block;}
</style>
<script>
  console.log('%cemoji meaning list:\n\nüé® - color related stuff (getting color from image, making pallete)\nüé∂ - music related stuff (setting preloader and heights correctly)\nüîÑ - loading stuff\nüìÖ - data stuff\nüì∞ - lanyard\n‚úÖ - loaded correctly\nüë• - next friends fetch in\nüêõ - debugging\n', 'background-color:coral;border-radius:6px;');
</script>
<script>
  var tabDataLogged = false;
  var tabFriendsLogged = false;
  var tabGalleryLogged = false;
  var tabProjectsLogged = false;

  function checkLocalStorage() {
    var activeTabValue = localStorage.getItem('activeTab');
     if (activeTabValue === 'tab_data' && !tabDataLogged) {
      console.log('üîÑ loading data...');
      tabDataLogged = true;
      loadScript('./code/apis/games.js');
      loadScript('./code/apis/wakatime.js');
      loadScript('./code/apis/lastfm.js');
    }  else if (activeTabValue === 'tab_friends' && !tabFriendsLogged) {
      console.log('üîÑ loading friends...');
      tabFriendsLogged = true;
      loadScript('./code/apis/friends.js');
    } else if (activeTabValue === 'tab_gallery' && !tabGalleryLogged) {
      console.log('üîÑ loading gallery...');
      tabGalleryLogged = true;
      loadScript('./code/apis/gallery.js');
    } else if (activeTabValue === 'tab_projects' && !tabProjectsLogged) {
      console.log('üîÑ loading projects...');
      tabProjectsLogged = true;
      loadScript('./code/apis/github.js');
    } 
  }

  // Function to dynamically load scripts
function loadScript(scriptUrl) {
  var script = document.createElement('script');
  script.src = scriptUrl;
  script.setAttribute('data-dynamic', 'true'); // Mark script as dynamic
  document.body.appendChild(script);
}

  setInterval(checkLocalStorage, 0);
</script>

</head>
<body id="body" class="light noselect">
<div id="main">

  <div id="preloader">
    <div id="preloader_tabs_fill"></div>
    <div id="preloader_tabs"></div>
    <div id="preloader_topbar">
      <div id="preloader_topbar_left"></div>
      <div id="preloader_music">
        <div id="preloader_music_art"></div>
        <div id="preloader_music_inner"></div>
      </div>
      <div id="preloader_pfp"></div>
    </div>



    <div id="preloader_main">
      <div class="preloader_inner">
        <div id="preloader_text"></div>
        <div id="load_time" style="display: none;"></div>
      </div>
    </div>
  </div>


  <script>
    // Get a random number between 6 and 12 for the number of elements
    var numberOfElements = Math.floor(Math.random() * 7) + 6;
  
    // into #preloader_text, create divs with class="preloader_text" and random widths
    for (var i = 0; i < numberOfElements; i++) {
      // Get a random number between 40 and 120
      var randomNumber = Math.floor(Math.random() * 81) + 40;
      // Create a div element
      var div = document.createElement('div');
      // Assign class name
      div.className = 'preloader_text';
      // Set width using calc(100% - randomNumber)
      div.style.width = 'calc(100% - ' + randomNumber + 'px)';
      // Append the div to #preloader_text
      document.getElementById('preloader_text').appendChild(div);
    }
  </script>
  

  <div id="tabs"></div>

    <div id="topbar"> 
      <div id="topbar_left">
        <div style="margin-bottom: 0px;margin-top:-6px;font-weight: bold;font-size: 32px;" id="userTitle"></div>
          <div id="status">
            <div id="status_text_block">
              <div id="status_arrow"></div>
              <div id="status_text">loading...</div>
            </div>
          </div>
        <div id='clock'>fetching...</div>

        <div id="version" style="font-size: 10px;font-weight: bold;"></div>

        <div id="gallery_credits">
          credits
          <i class="fa-solid fa-brush"></i></div>
      </div>

      <div id="music">
        <a id="music-track-link" target="_blank" class="music-cover disabledrag">
          <img id="music-cover" src="./styles/blank.png" class="music-cover disabledrag"></img>
        </a>

        <div id="music-content">
          <div id="music-song"></div>
          <div id="music-artist"></div>
            <div id="music-elapsed-time-wrapper"></div>
            <div id="music-progress-bar-wrapper"></div>
        </div>
      </div>

      <div id="profile">
        <img class="disabledrag" id="pfp" src="./styles/blank.png"/>

        <div id="profile_hover">
          <div id="profile_arrow"></div>

            <div id="profile_inner">
              <a id="pfp_link"></a>
                <div id="accounts"></div>
                <div style="height: 1px;width: 100%;background-color: var(--text);margin: 5px;margin-left: 0px;"></div>
          
              <div id="settings">
                <span id="time_format">
                  <i class="fa-solid fa-clock-rotate-left icon-style" style="margin-right: -3px;"></i>
                  <span style="border-bottom: 2px solid var(--text);">time format:</span> 
                  <span style="cursor: pointer;display: block;margin-top: 4px;" id="timeFormatBtn"></span>
                </span>

                <span id="theme">
                  <i class="fa-solid fa-pencil icon-style" style="margin-right: -3px;"></i>
                  <span style="border-bottom: 2px solid var(--text);">theme:</span> 
                  <div id="theme-toggle" class="fontChange"></div>
                </span>

                <span id="bug">
                  <i class="fa-solid fa-bug icon-style" style="margin-right: -3px;"></i>
                  <span style="border-bottom: 2px solid var(--text);">broken?</span>
                  <div id="reset">reset</div>
                </span>

                <span style="display: none;">
                  <div style="height: 1px;width: 100%;background-color: var(--text);margin: 5px;margin-left: 0px;"></div>
                <span style="color:lightcoral;display:block;">EXPERIMENTAL</span> 
              </span>            
            </div>
          </div>
      </div>
    </div>
  </div>

  <div id="version_container">
    <div id="update_notes_inner">
      <div id="update_notes"></div>
    </div>
  </div>

  <div id="credit_container">
    <div id="credit_notes_inner">
      <div id="credits"></div>
    </div>
  </div>


<!-- add your tabs here -->

  <div class="bar" id="text_outer">
    <div class="noselect bar_inner" id="text"></div>
  </div>

  <div class="bar" id="data">
    <div class="noselect bar_outer" id="data_outer">
      <div class="noselect bar_inner" id="data_inner">

        <div style="font-family: Rubik;" id="top_artists"><span>top artists</span></div>

          <div class="lastfm_outer" id="lastfm_recent_outer">
            <div class="inner_scrollables" id="lastfm_artist">
              <div id="lastfm_loader_artist" class="skelly"></div>
            </div>
          </div>

        <div style="font-family: Rubik;margin-top: 10px;" id="top_songs"><span>top songs</span></div>

          <div class="lastfm_outer">
            <div class="inner_scrollables" id="lastfm_top">
              <div id="lastfm_loader_top" class="skelly"></div>
            </div>
          </div>
        <div class="info" id="top_songs_info">
          <span>fetched from </span>
          <a style="text-decoration: underline;" href="https://www.last.fm/api" target="_blank">last.fm</a>, 
          <span>artwork by </span>
          <a style="text-decoration: underline;" href="https://developer.spotify.com/documentation/web-api/reference/search" target="_blank">spotify.com</a>
        </div>

        <div class="divider" style="margin-bottom: 10px;margin-top: 10px;"></div>

        <div style="font-family: Rubik;" id="games_and_activities"><span>games & activities</span></div>
        <div id="games_data_outer">
          <div id="games_data">
            <div id="games_loader" class="skelly"></div>
          </div>
        </div>
        <div class="info" id="games_and_activities_info">
          <span>fetched from </span>
          <a style="text-decoration: underline;" href="https://developer.valvesoftware.com/wiki/Steam_Web_API#GetOwnedGames_.28v0001.29" target="_blank">steamcommunity.com</a>
        </div>

        <div class="divider" style="margin-bottom: 20px;margin-top: 10px;"></div>
        <div id="waka_data" style="margin-bottom: 20px;"></div>
        <div style="font-family: Rubik;" id="top_languages"><span>top languages</span></div>
        <div id="waka_lang"></div>
        <div class="info" id="top_languages_info">
          <span>fetched from </span>
          <a style="text-decoration: underline;" href="https://wakatime.com" target="_blank">wakatime.com</a>
        </div>


      </div>
    </div>
  </div>

  <div class="bar" id="people">
    <div class="noselect bar_outer" id="friends_outer">
        <div class="noselect bar_inner inner_scrollables" id="friends_inner">
          <div id="skeleton_loader_friends" class="skelly"></div>
      </div>
    </div>
  </div>

  <div class="bar" id="projects">
    <div class="noselect bar_outer" id="project_outer">
      <div id="skeleton_loader_projects" class="skelly"></div>
        <div class="noselect bar_inner" id="project_inner">
      </div>
    </div>
  </div>

  <div class="bar" id="gallery">
    <div class="noselect bar_outer" id="gallery_outer">
      <div class="noselect bar_inner inner_scrollables gallery_inner" id="gallery_inner">
        <div id="skeleton_loader_gallery" class="skelly"></div>
      </div>
    </div>
  </div>

</div>

<div id="gallery_full_view">
  <div id="gallery_button">
    <div id="full_gallery2">close full view</div>
  </div>

  <div id="gallery_full_button_left" class="gallery_buttons" onclick="plusSlides(-1)">
    <div id="prev_gallery_text" class="gallery_text">prev</div>
  </div>

    <div id="gallery_full_images" class="gallery_inner"></div>

  <div id="gallery_full_button_right" class="gallery_buttons" onclick="plusSlides(1)">    
    <div id="next_gallery_text" class="gallery_text">next</div>
  </div>
</div>

<script> // reset button
  // use button id to reset localstorage or anything saved in the browser and reload the page
  document.getElementById('reset').addEventListener('click', function () {
  // Clear localStorage
  localStorage.clear();
  // Clear sessionStorage
  sessionStorage.clear();
  // Reload the page
  location.reload();
  });
</script>
<script>
  // handle preloader themes correctly
if (localStorage.getItem('theme') === 'light') {
  document.getElementById('body').style.transition = '0s';
  document.getElementById('body').style.backgroundColor = '#d4d4d4';
  document.getElementById('preloader_topbar').style.backgroundColor = '#e7e7e7';
  document.getElementById('preloader_main').style.backgroundColor = '#e7e7e7';
  document.getElementById('preloader_main').style.transition = '0s';
  document.getElementById('preloader_tabs').style.backgroundColor = '#e7e7e7';
  document.getElementById('preloader_tabs').style.transition = '0s';
  document.getElementById('preloader_music').style.backgroundColor = '#d4d4d4';
  document.getElementById('preloader_music').style.backgroundColor = '#d4d4d4';
  document.getElementById('preloader').style.backgroundColor = '#d4d4d4';

  document.getElementById('preloader_pfp').style.background = 'linear-gradient(90deg, #c1c1c1, #9b9b9b , #c1c1c1)';
  document.getElementById('preloader_pfp').style.backgroundSize = '200% 100%';
  document.getElementById('preloader_pfp').style.animation = 'gradientAnimation 1.5s ease infinite forwards';
  document.getElementById('preloader_pfp').style.border = '5px solid #d4d4d4';

  document.getElementById('preloader_music_art').style.background = 'linear-gradient(90deg, #c1c1c1, #9b9b9b , #c1c1c1)';
  document.getElementById('preloader_music_art').style.backgroundSize = '200% 100%';
  document.getElementById('preloader_music_art').style.animation = 'gradientAnimation 1.5s ease infinite forwards';

  document.getElementById('preloader_music_inner').style.background= 'linear-gradient(90deg, #c1c1c1, #9b9b9b , #c1c1c1)';
  document.getElementById('preloader_music_inner').style.backgroundSize = '200% 100%';
  document.getElementById('preloader_music_inner').style.animation = 'gradientAnimation 1.5s ease infinite forwards';
    
  document.getElementById('preloader_topbar_left').style.background= 'linear-gradient(90deg, #c1c1c1, #9b9b9b , #c1c1c1)';
  document.getElementById('preloader_topbar_left').style.backgroundSize = '200% 100%';
  document.getElementById('preloader_topbar_left').style.animation = 'gradientAnimation 1.5s ease infinite forwards';

  document.querySelector('.preloader_inner').style.backgroundColor = '#d4d4d4';

  // Select all elements with class 'preloader_text'
  var preloaderTextElements = document.querySelectorAll('.preloader_text');

  // Loop through the NodeList and set the background color for each element
  preloaderTextElements.forEach(function(element) {
    element.style.background = 'linear-gradient(90deg, #c1c1c1, #9b9b9b , #c1c1c1)';
    element.style.backgroundSize = '200% 100%';
    element.style.animation = 'gradientAnimation 1.5s ease infinite forwards;';
  });

  // if window size is less than 600px, change the border color of preloader_pfp
  if (window.innerWidth < 600) {
    document.getElementById('preloader_pfp').style.border = '5px solid #e7e7e7';
  }
} else {
}
</script>
<script> // version hover
  const version = document.getElementById('version');
  const versionHover = document.getElementById('version_container');

  // Function to toggle the visibility of the profile_hover div
  function toggleVersionHover() {
    if (versionHover.style.display === 'block') {
        versionHover.style.display = 'none';
    } else {
        versionHover.style.display = 'block';
    }
  }

  // Event listener to show or hide profile_hover when clicking on pfp
  version.addEventListener('click', function (event) {
    event.stopPropagation(); // Prevent event bubbling to the document click listener
    toggleVersionHover();
  });

  // Event listener to hide profile_hover when clicking outside the profile or profile_hover
  document.addEventListener('click', function (event) {
    const target = event.target;
    if (target !== profile && target !== versionHover && !profile.contains(target)) {
      hideVersionHover();
    }
  });

  // Function to hide the profile_hover div
  function hideVersionHover() {
    versionHover.style.display = 'none';
  }

  // Function to show the profile_hover div
  function showVersionHover() {
    versionHover.style.display = 'block';
  }
</script>
<script> // credit hover
const credit = document.getElementById('gallery_credits');
const creditHover = document.getElementById('credit_container');

// Function to toggle the visibility of the profile_hover div
function toggleCreditHover() {
  if (creditHover.style.display === 'block') {
    creditHover.style.display = 'none';
  } else {
    creditHover.style.display = 'block';
  }
}

// Event listener to show or hide profile_hover when clicking on pfp
credit.addEventListener('click', function (event) {
  event.stopPropagation(); // Prevent event bubbling to the document click listener
  toggleCreditHover();
});

// Event listener to hide profile_hover when clicking outside the profile or profile_hover
document.addEventListener('click', function (event) {
  const target = event.target;
  if (target !== profile && target !== creditHover && !profile.contains(target)) {
    hideCreditHover();
  }
});

// Function to hide the profile_hover div
function hideCreditHover() {
  creditHover.style.display = 'none';
}

// Function to show the profile_hover div
function showCreditHover() {
  creditHover.style.display = 'block';
}
</script>
<script src="./config.js"></script>
<script src="./code/tabs.js"></script>
<script src="./code/similarColor.js"></script>
<script src="./code/formatting.js"></script>
<script src="./code/text.js"></script>
<script src="./code/apis/accounts.js"></script>
<script src="./code/apis/discord.js"></script>
<script src="./code/apis/pronounspage.js"></script>
<script src="./code/fontchange.js"></script>
<script src="./code/time.js"></script>
<script src="./code/profileHover.js"></script>
<script src="./code/horizontalScroll.js"></script>
<script src="./code/skeletons.js"></script>
</body>
</html>